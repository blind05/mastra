---
title: Mastra Client Workflows API
description: Learn how to interact with and execute automated workflows in Mastra using the client-js SDK.
---

# Workflows API

The Workflows API provides methods to interact with and execute automated workflows in Mastra.

## Getting All Workflows

Retrieve a list of all available workflows:

```typescript
const workflows = await mastraClient.getWorkflows();
```

## Working with a Specific Workflow

Get an instance of a specific workflow as defined by the const name:

```typescript
const workflow = mastraClient.getWorkflow("testWorkflow");
```

## Workflow Methods

### Get Workflow Details

Retrieve detailed information about a workflow:

```typescript
const details = await workflow.details();
```

### Start workflow run asynchronously

Start a workflow run with inputData and await full run results:

```typescript
const workflow = mastraClient.getWorkflow("testWorkflow");

const run = await workflow.createRunAsync();

const result = await workflow.startAsync({
  runId: run.runId,
  inputData: {
    city: "New York",
  },
});
```

### Resume Workflow run asynchronously

Resume a suspended workflow step and await full run result:

```typescript
const run = await workflow.createRunAsync();

const result = await workflow.resumeAsync({
  runId: run.runId,
  step: "step-id",
  resumeData: { key: "value" },
});
```

### Watch Workflow

Watch workflow transitions:

```typescript
import type { WorkflowWatchResult } from "@mastra/client-js";

const workflow = mastraClient.getWorkflow("testWorkflow");

const run = await workflow.createRunAsync();

workflow.watch({ runId: run.runId }, (event: WorkflowWatchResult) => {
  console.log(event);
});

const result = await workflow.start({
  runId: run.runId,
  inputData: {
    city: "New York"
  }
});

console.log(result);
```

### Resume Workflow

Resume workflow run and watch workflow step transitions:

```typescript
import type { WorkflowWatchResult } from "@mastra/client-js";

const workflow = mastraClient.getWorkflow("testWorkflow");

const run = await workflow.createRunAsync();

workflow.watch({ runId: run.runId }, (event: WorkflowWatchResult) => {
  console.log(event);
});

workflow.resume({
  runId: run.runId,
  step: "step-id",
  resumeData: { key: "value" }
});

```

### Stream Workflow

Stream workflow execution for real-time updates:

```typescript
const workflow = mastraClient.getWorkflow("testWorkflow");

const run = await workflow.createRunAsync();

const stream = await workflow.stream({
  runId: run.runId,
  inputData: {
    city: "New York"
  }
});

for await (const chunk of stream) {
  console.log(JSON.stringify(chunk, null, 2));
}
```

### Get Workflow Run result

Get the result of a workflow run:

```typescript
const workflow = mastraClient.getWorkflow("testWorkflow");

const run = await workflow.createRunAsync();

await workflow.start({
  runId: run.runId,
  inputData: {
    city: "New York"
  }
});

const result = await workflow.runExecutionResult(run.runId);

console.log(result);
```

This is useful when dealing with long running workflows. You can use this to poll the result of the workflow run.

### Workflow run result

A workflow run result yields the following:

| Field            | Type                                                                                                     | Description                                      |
| ---------------- | -------------------------------------------------------------------------------------------------------- | ------------------------------------------------ |
| `status`         | `"success" \| "failed" \| "suspended"`                                                                  | Current status of the workflow run.              |
| `result`         | `Record<string, any>`                                                                                    | Final output of the workflow.                    |
| `payload`        | `Record<string, any>`                                                                                    | Input or intermediate values used in execution.  |
| `steps`          | `Record<string, { status: string, output?: Record<string, any>, payload?: Record<string, any> }>`       | Status and data for each step in the workflow.   |
| `eventTimestamp` | `Date`                                                                                                   | The timestamp of the event.                      |
| `runId`          | `string`                                                                                                 | Unique identifier for this workflow run instance |


## Related

- [Workflows](../../docs/workflows/overview.mdx)
- [Control Flow](../../docs/workflows/control-flow.mdx)
